esphome:
  name: office
  platform: ESP32
  board: esp32dev



# Enable Home Assistant API
api:

ota:
  password: !secret ota_password

wifi:
  ssid: !secret wifi_ssid
  password: !secret wifi_password

  # Enable fallback hotspot (captive portal) in case wifi connection fails
  ap:
    ssid: Office Fallback Hotspot"
    password: !secret hotspot_password

captive_portal:

esp32_ble_tracker:

# Enable logging
logger:
#  level: VERY_VERBOSE

sensor:
  # RSSI based on MAC address
  - platform: ble_rssi
    mac_address: !secret dog_tile_mac
    name: "dog Tile Esphome Office RSSI"
binary_sensor:
  - platform: ble_presence
    mac_address: !secret dog_tile_mac
    name: "dog Tile Esphome Office Presence"
  - platform: ble_presence
    ibeacon_uuid: !secret g7_ibeacon
    name: "Moto G7 Ibeacon" #Moto G7 Office Presence
  - platform: ble_presence
    service_uuid: !secret g7_service
    name: "Moto G7 Service"
remote_receiver:
  pin: GPIO27
  dump: all

remote_transmitter:
  pin: GPIO16
  # Infrared remotes use a 50% carrier signal
  carrier_duty_percent: 50%
switch:
  - platform: template
    name: Heater Power Button
    turn_on_action:
      - remote_transmitter.transmit_raw:
          carrier_frequency: 38kHz
          code: [1340,-344,1346,-344,498,-1190,1340,-344,1340,-344,502,-1186,498,-1192,492,-1192,1340,-344,498,-1190,498,-1192,498,-8494,1344,-344,1340,-344,498,-1192,1340,-344,1344,-344,498,-1190,522,-1162,498,-1192,1340,-344,498,-1190,498,-1192,496,-8488,1346,-342,1340,-346,500,-1186,1344,-344,1338,-344,502,-1186,498,-1190,498,-1190,1340,-344,498,-1190,496,-1192,492,-8492,1344,-344,1344,-344,496,-1188,1344,-344,1340,-344,502,-1186,498,-1192,498,-1212,1314,-344,502,-1190,494,-1192,496,-8492,1344,-346,1340,-344,502,-1188,1344,-344,1340,-344,502,-1186,498,-1192,496,-1190,1314,-370,474,-1214,472,-1212,476,-8520,1340,-348,1340,-348,524,-1160,1370,-324,1338,-344,498,-1186,528,-1162,528,-1160,1370,-318,524,-1160,528,-1160,528]
  - platform: template
    name: Heater Flame Up Button
    turn_on_action:
      - remote_transmitter.transmit_raw:
          carrier_frequency: 38kHz
          code: [1370,-318,1342,-344,476,-1214,1322,-366,1322,-366,476,-1212,498,-1192,496,-1222,468,-1192,498,-1190,524,-1166,1344,-7656,1340,-348,1340,-350,498,-1190,1344,-344,1346,-342,498,-1190,498,-1190,498,-1192,498,-1192,496,-1192,498,-1192,1340,-7656,1344,-344,1344,-344,502,-1186,1344,-344,1344,-344,602,-1088,498,-1190,498,-1188,496,-1192,498,-1192,498,-1190,1344,-7654,1344,-344,1344,-344,502,-1186,1344,-344,1344,-344,502,-1190,498,-1190,498,-1192,498,-1190,496,-1192,524,-1164,1370,-7636,1344,-344,1344,-344,496,-1196,1366,-322,1340,-348,498,-1192,498,-1190,498,-1190,498,-1190,498,-1190,498,-1188,1344,-7650,1344,-346,1340,-344,498,-1186,1344,-346,1344,-344,498,-1190,494,-1190,498,-1186,502,-1186,498,-1192,522,-1166,1340,-7654,1344,-344,1344,-344,524,-1166,1344,-344,1340,-350,522,-1162,502,-1186,498,-1190,496,-1192,498,-1192,498,-1190,1340,-7652,1342,-346,1344,-344,496,-1192,1340,-344,1344,-344,498,-1190,498,-1188,496,-1190,498,-1190,498,-1188,496,-1190,1340,-7650,1344,-344,1340,-350,496,-1186,1370,-320,1344,-344,498,-1192,498,-1186,496,-1192,498,-1192,498,-1186,502,-1188,1340]
  - platform: template
    name: Heater Flame Down Button
    turn_on_action:
     - remote_transmitter.transmit_raw:
          carrier_frequency: 38kHz
          code: [1340,-344,1344,-342,502,-1192,1338,-344,1344,-344,498,-1190,498,-1190,498,-1190,498,-1190,496,-1192,1340,-344,498,-8500,1370,-318,1344,-344,498,-1190,1340,-344,1344,-344,522,-1166,496,-1190,498,-1186,496,-1192,498,-1190,1340,-344,496,-8494,1342,-344,1340,-352,494,-1186,1344,-344,1340,-344,496,-1192,498,-1190,498,-1186,498,-1190,498,-1190,1336,-348,498,-8490,1344,-344,1344,-344,524,-1164,1366,-320,1342,-344,498,-1190,498,-1190,498,-1190,496,-1192,498,-1192,1340,-344,498,-8496,1340,-344,1344,-344,496,-1192,1340,-344,1340,-350,496,-1188,498,-1190,498,-1190,498,-1190,498,-1186,1344,-344,496,-8492,1344,-344,1344,-344,496,-1192,1344,-344,1340,-348,498,-1216,472,-1186,498,-1192,496,-1192,498,-1186,1344,-344,498,-8496,1344,-344,1344,-344,496,-1192,1338,-344,1344,-344,498,-1190,498,-1192,496,-1190,498,-1186,502,-1186,1344,-344,496,-8496,1340,-344,1370,-318,496,-1192,1338,-346,1342,-344,498,-1192,498,-1190,498,-1186,498,-1192,472,-1214,1370,-320,526,-8466,1336,-348,1314,-374,442,-1246,1340,-350,1366,-318,524,-1160,502,-1188,476,-1212,476,-1212,478,-1212,1340,-348,524]
  - platform: template
    name: Heater Fan Button
    turn_on_action:
      - remote_transmitter.transmit_raw:
          carrier_frequency: 38kHz
          code: [1322,-366,1318,-370,476,-1212,1320,-364,1322,-366,476,-1212,476,-1212,476,-1208,476,-1212,1344,-344,476,-1212,498,-8496,1318,-372,1318,-366,476,-1212,1318,-370,1318,-370,476,-1212,470,-1212,476,-1212,476,-1212,1320,-370,476,-1212,476,-8518,1318,-370,1320,-366,496,-1192,1344,-344,1340,-348,498,-1188,474,-1214,496,-1190,498,-1192,1366,-320,524,-1162,496,-8496,1344,-346,1338,-350,496,-1186,1370,-318,1344,-346,522,-1160,528,-1160,524,-1166,522,-1160,1370,-322,524,-1162,522,-8470,1254,-436,1284,-400,442,-1248,1284,-404,1282,-400,440,-1248,466,-1220,468,-1222,466,-1218,1340,-348,492,-1196,466,-8522,1340,-348,1314,-374,494,-1194,1310,-378,1284,-404,436,-1248,416,-1272,410,-1276,442,-1242,1370,-318,524,-1164,524,-8470,1284,-404,1310,-378,442,-1242,1314,-374,1310,-380,436,-1248,466,-1222,466,-1222,468,-1220,1336,-348,468,-1220,494]
  - platform: template
    name: Heater Timer Button
    turn_on_action:
      - remote_transmitter.transmit_raw:
         carrier_frequency: 38kHz
         code: [1340,-344,1340,-348,498,-1190,1340,-348,1340,-348,1340,-344,502,-1186,498,-1190,498,-1192,524,-1164,1368,-316,1344,-7650,1344,-344,1344,-344,498,-1192,1364,-318,1348,-340,1370,-318,522,-1166,498,-1190,498,-1190,494,-1190,1370,-318,1340,-7654,1370,-318,1370,-318,498,-1192,1340,-348,1340,-348,1340,-348,498,-1190,498,-1190,498,-1190,498,-1192,1344,-344,1344,-7658,1340,-348,1340,-350,496,-1190,1340,-348,1344,-344,1340,-348,498,-1190,496,-1196,492,-1196,494,-1194,1340,-350,1318,-7684,1344,-344,1344,-344,500,-1190,1344,-344,1344,-344,1344,-344,502,-1190,472,-1216,498,-1190,498,-1190,1344,-344,1344,-7658,1344,-348,1344,-344,498,-1190,1344,-346,1342,-348,1342,-348,498,-1190,494,-1196,498,-1190,496,-1192,1344,-344,1344,-7658,1344,-344,1344,-344,498,-1194,1366,-318,1370,-322,1340,-344,502,-1192,496,-1192,496,-1188,498,-1190,1344,-344,1344,-7658,1344,-344,1338,-348,498,-1192,1344,-344,1344,-344,1344,-344,502,-1186,502,-1186,498,-1192,498,-1190,1344,-344,1344,-7652,1344,-344,1372,-318,496,-1192,1342,-344,1344,-344,1344,-344,498,-1192,496,-1190,498,-1190,498,-1190,1344,-346,1338]
  - platform: template
    name: Heater Leds Button
    turn_on_action:
      - remote_transmitter.transmit_raw:
         carrier_frequency: 38kHz
         code: [1370,-318,1370,-318,522,-1160,1344,-344,1370,-318,522,-1160,522,-1166,1370,-318,522,-1160,498,-1190,1366,-322,498,-8492,1318,-366,1318,-370,476,-1212,1314,-372,1318,-364,476,-1212,472,-1212,1318,-370,476,-1208,476,-1212,1318,-370,474,-8518,1318,-366,1340,-348,498,-1186,1370,-322,1366,-316,502,-1186,524,-1166,1338,-350,492,-1196,412,-1272,1310,-378,464,-8520,1336,-352,1336,-348,492,-1196,1334,-354,1336,-348,492,-1196,468,-1220,1310,-374,442,-1246,442,-1248,1252,-434,438,-8546,1364,-318,1370,-318,522,-1160,1370,-320,1338,-348,498,-1186,524,-1160,1370,-320,522,-1160,498,-1190,1366,-318,524,-8464,1340,-344,1344,-344,522,-1162,1370,-318,1366,-322,524,-1160,524,-1164,1340,-348,412,-1272,442,-1246,1306,-380,466,-8518,1336,-352,1308,-374,468,-1222,1284,-400,1366,-318,528,-1156,528,-1160,1340,-348,472,-1212,476,-1208,1370,-318,522,-8470,1370,-318,1340,-350,468,-1220,1288,-400,1288,-400,468,-1220,466,-1222,1280,-404,442,-1244,466,-1220,1336,-348,440]
          
              
  
